<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors</title>
</head>
<body>
  <script>
    let playerScore = 0;
    let computerScore = 0;
    let round = 0;

        function computerPlay () {
        let computerSelection = "";
        let selection = Math.random();
        if (selection<=1/3) {
            computerSelection = "Rock";
        }
        else if (selection<=2/3) {
            computerSelection = "Paper";
        }
        else {
            computerSelection = "Scissors";
        }
        return computerSelection;
    }

    function playRound (playerSelection, computerSelection) {
        playerSelection = playerSelection.toUpperCase();
        if (computerSelection == "Rock" && playerSelection == "SCISSORS") {
            return "You Lose! Rock beats Scissors";
        }
        else if (computerSelection == "Rock" && playerSelection == "ROCK") {
            return "It's a tie! Both used Rock";
            }
        else if (computerSelection == "Rock" && playerSelection == "PAPER") {
            return "You Win! Paper beats Rock";
            }
        else if (computerSelection == "Paper" && playerSelection == "ROCK")
            {
                return "You Lose! Paper beats Rock";
            }
        else if (computerSelection == "Paper" && playerSelection == "PAPER")
            {
                return "It's a tie! Both used Paper";
            }
        else if (computerSelection == "Paper" && playerSelection == "SCISSORS")
            {
                return "You Win! Scissors beats Paper";
            }
        else if (computerSelection == "Scissors" && playerSelection == "ROCK")
            {
                return "You Win! Rock beats Scissors";
            }
        else if (computerSelection == "Scissors" && playerSelection == "PAPER")
            {
                return "You Lose! Scissors beats Paper";
            }
        else {
                return "It's a tie! Both used Scissors";
            }

    }
    


    function game () {
        playerSelection = prompt("Type rock, paper, or scissors").toUpperCase();


        if (playRound(playerSelection, computerPlay()).charAt(4) == "W")
        {
            if (playerSelection == "ROCK")
            {
                console.log("You Win! Rock beats Scissors");
            }
            else if (playerSelection == "SCISSORS")
            {
                console.log("You Win! Scissors beats Paper");

            }
            else {
                console.log("You Win! Paper beats Rock");
            }
            playerScore++;
            round++;
        }
        else if (playRound(playerSelection, computerPlay()).charAt(4) == "L")
                {   
            if (playerSelection == "ROCK")
            {
                console.log("You Lose! Paper beats Rock");
            }
            else if (playerSelection == "SCISSORS")
            {
                console.log("You Lose! Rock beats Scissors");
            }
            else {
                console.log("You Lose! Scissors beats Paper");
            }
            computerScore++;
            round++
        }
        else {
            if (playerSelection == "ROCK")
            {
                console.log("It's a tie! Both used Rock");
            }
            else if (playerSelection == "SCISSORS")
            {
                console.log("It's a tie! Both used Scissors");
            }
            else {
                console.log("It's a tie! Both used Paper");
            }
            round++;
        }
        if (round<5) {
            game();
        }
        else {
            if (playerScore>computerScore) {
                console.log("Player Score: " + playerScore + " Computer Score: " + computerScore);
                console.log("You Win!");
                return;
            }
            else if (computerScore>playerScore) {
                //console.log(playerScore, computerScore);
                console.log("Player Score: " + playerScore + " Computer Score: " + computerScore);
                console.log("You Lose!");
                return;
            }
            else {
                console.log("Player Score: " + playerScore + " Computer Score: " + computerScore);
                console.log("It's a Tie!");
                return;
            }
        }
    }
    
  </script>
</body>
</html>